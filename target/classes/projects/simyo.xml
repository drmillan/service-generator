<protocol 
    javaServiceException="com.simyo.exception.ServiceException"
    javaServiceExceptionListener="com.simyo.exception.ServiceExceptionListener"
    onSend="com.simyo.SimyoApplication.onSend" onReceive="com.simyo.SimyoApplication.onReceive" onError="com.simyo.SimyoApplication.onError" onTask="com.simyo.SimyoApplication.onTaskFinished">
    <!-- MENSAJES DE LA APP -->
	<messages>
		<message name="Login" service="Simyo" method="login" description="Login" type="Post">
			<urlPattern>
				 <url address="https://81.93.214.105:452/api/login" /> 
				<!--<url address="http://alvaromurillo.es/simyo/login.json"/>-->
			</urlPattern>
			<request type="LoginRequestDTO">				
				<field name="user" type="string" description="Usuario" />
				<field name="password" type="string" description="Clave" />
				<field name="apiSig" type="string" description="ApiSignature" />
			</request>
			<response type="LoginResponseDTO">
				<field name="header" type="HeaderDTO" description="cabecera"/>
				<field name="response" type="LoginResponseDetailDTO" description="respuesta"/>
			</response>
		</message>
		<message name="Logout" service="Simyo" method="logout" description="Logout" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/logout?sessionId=${sessionId}" />
		        <!-- <url address="http://alvaromurillo.es/simyo/logout.json"/> -->
		    </urlPattern>
		    <request type="LogoutRequestDTO">				
			</request>
			<response type="LogoutResponseDTO">
				<field name="header" type="HeaderDTO" description="cabecera"/>
			</response>
		</message>
		
		<!-- MENSAJE: -->
		<message name="Subscriptions" service="Simyo" method="subscriptions" description="Subscriptions" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/subscriptions/${customerId}?sessionId=${sessionId}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/subscriptions.json"/> -->
		    </urlPattern>
		    <request type="SubscriptionsRequestDTO">		        
		        <field name="customerId" type="string"/>
		        <field name="sessionId" type="string"/>		        
		    </request>
		    <response type="SubscriptionsResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="SubscriptionsResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		
		<!-- MENSAJE: -->
		<message name="ConsumptionByCycle" service="Simyo" method="consumptionByCycle" description="ConsumptionByCycle" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/consumptionByCycle/${customerId}?sessionId=${sessionId}&amp;msisdn=${msisdn}&amp;billCycleType=${billCycleType}&amp;registerDate=${registerDate}&amp;billCycle=${billCycle}&amp;billCycleCount=${billCycleCount}&amp;payType=${payType}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/consumptionByCycle.json"/> -->
		    </urlPattern>
		    <request type="ConsumptionByCycleRequestDTO">
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>
		        <field name="billCycle" type="int"/>
		        <field name="billCycleCount" type="int"/>
		        <field name="payType" type="string"/>
		    </request>
		    <response type="ConsumptionByCycleResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="ConsumptionByCycleResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="ConsumptionDetailByCycle" service="Simyo" method="consumptionDetailByCycle" description="ConsumptionDetailByCycle" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/consumptionDetailByCycle/${customerId}?msisdn=${msisdn}&amp;sessionId=${sessionId}&amp;billCycleType=${billCycleType}&amp;billCycle=${billCycle}&amp;registerDate=${registerDate}&amp;billCycleCount=${billCycleCount}&amp;payType=${payType}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/consumptionDetailByCycle.json"/> -->
		    </urlPattern>
		    <request type="ConsumptionDetailByCycleRequestDTO">
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>
		        <field name="billCycle" type="int"/>
		        <field name="billCycleCount" type="int"/>
		        <field name="payType" type="string"/>		        
		    </request>
		    <response type="ConsumptionDetailByCycleResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="ConsumptionDetailByCycleResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="voiceCalls" service="Simyo" method="voiceCalls" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/voiceCalls/${customerId}?msisdn=${msisdn}&amp;sessionId=${sessionId}&amp;billCycleType=${billCycleType}&amp;billCycle=${billCycle}&amp;registerDate=${registerDate}&amp;start=${start}&amp;count=${count}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/voiceCalls.json"/> -->
		    </urlPattern>
		    <request type="VoiceCallsRequestDTO">
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>
		        <field name="billCycle" type="int"/>
		        <field name="billCycleCount" type="int"/>	
		        <field name="start" type="int"/>
		        <field name="count" type="int"/>			        
		    </request>
		    <response type="VoiceCallsResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="VoiceCallsResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="sms" service="Simyo" method="sms" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/messages/${customerId}?msisdn=${msisdn}&amp;sessionId=${sessionId}&amp;billCycleType=${billCycleType}&amp;billCycle=${billCycle}&amp;registerDate=${registerDate}&amp;start=${start}&amp;count=${count}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/sms.json"/> -->
		    </urlPattern>
		    <request type="SMSRequestDTO">
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>
		        <field name="billCycle" type="int"/>
		        <field name="billCycleCount" type="int"/>	
		        <field name="start" type="int"/>
		        <field name="count" type="int"/>			        
		    </request>
		    <response type="SMSResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="SMSResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="frequentNumbers" service="Simyo" method="frequentNumbers" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/frequentNumbers/${customerId}?msisdn=${msisdn}&amp;sessionId=${sessionId}&amp;billCycleType=${billCycleType}&amp;registerDate=${registerDate}&amp;month=${month}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/frequentNumbers.json"/> -->
		    </urlPattern>
		    <request type="FrequentNumbersRequestDTO">
		        
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>
		        <field name="month" type="int"/>
		    </request>
		    <response type="FrequentNumbersResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="FrequentNumbersResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="rechargeHistory" service="Simyo" method="rechargeHistory" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/rechargeHistory/${customerId}?msisdn=${msisdn}&amp;sessionId=${sessionId}&amp;billCycleType=${billCycleType}&amp;registerDate=${registerDate}&amp;startDate=${startDate}&amp;endDate=${endDate}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/rechargeHistory.json"/> -->
		    </urlPattern>
		    <request type="RechargeHistoryRequestDTO">
		        
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>
		        <field name="startDate" type="long"/>
		        <field name="endDate" type="long"/>		        
		    </request>
		    <response type="RechargeHistoryResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="RechargeHistoryResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="invoiceList" service="Simyo" method="invoiceList" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/invoiceList/${customerId}?msisdn=${msisdn}&amp;sessionId=${sessionId}&amp;billCycleType=${billCycleType}&amp;registerDate=${registerDate}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/invoiceList.json"/> -->
		    </urlPattern>
		    <request type="InvoiceListRequestDTO">
		        
		        <field name="customerId" type="string"/>
		        <field name="msisdn" type="string"/>
		        <field name="billCycleType" type="int"/>
		        <field name="registerDate" type="long"/>		        
		    </request>
		    <response type="InvoiceListResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="InvoiceListResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="downloadInvoice" service="Simyo" method="downloadInvoice" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/downloadInvoice?sessionId=${sessionId}&amp;invoiceNO=${invoiceNO}&amp;invoiceId=${invoiceId}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/downloadInvoice.json"/> -->
		    </urlPattern>
		    <request type="DownloadInvoiceRequestDTO">
		        
		        <field name="invoiceNO" type="string"/>
		        <field name="invoiceId" type="string"/>		        
		    </request>
		    <response type="DownloadInvoiceResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="DownloadInvoiceResponseDetailDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="contact" service="Simyo" method="contact" description="" type="Post">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/contact"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/contact.json"/> -->
		    </urlPattern>
		    <request type="ContactRequestDTO">
		        		  
		        <field name="name" type="string"/>		  
		        <field name="lastName1" type="string"/>		  
		        <field name="lastName2" type="string"/>		  
		        <field name="phone" type="string"/>		  
		        <field name="email" type="string"/>
		        <field name="subject" type="int"/>
		        <field name="message" type="string"/>		  		              
		    </request>
		    <response type="ContactResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		    </response>
		</message>	
		<!-- Programa MGM -->
		<message name="mgmHistory" service="Simyo" method="mgmHistory" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/mgmHistory/${customerId}?sessionId=${sessionId}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/mgmHistory.json"/> -->
		    </urlPattern>
		    <request type="MGMHistoryRequestDTO">
		        <field name="customerId" type="string"/>
		    </request>
		    <response type="MGMHistoryResponseDTO">
		        <field name="header" type="HeaderDTO" description="cabecera"/>
		        <field name="response" type="MGMHistoryDTO" description="respuesta"/>
		    </response>
		</message>
		<!-- MENSAJE: -->
		<message name="faqs" service="Simyo" method="faqs" description="" type="Get">
		    <urlPattern>
		        <url address="https://81.93.214.105:452/api/downloadInvoice?sessionId=${sessionId}&amp;invoiceNO=${invoiceNO}&amp;invoiceId=${invoiceId}apiSig=${apiSig}"/>
		        <!-- <url address="http://alvaromurillo.es/simyo/faqs.json"/> -->
		    </urlPattern>
		    <request type="FaqsRequestDTO">
		    </request>
		    <response type="FaqResponseDTO">
		        <field name="faqs" type="FaqDTO*" description="Array de preguntas (FaqDTO)"/>
		    </response>
		</message>		
	</messages>
	<!-- TIPOS DE LA APP -->
	<types>
	    <type name="MGMHistoryDTO">
	        <field name="mgmHistoryList" type="MGMDetailDTO"/>
	    </type>
	    <type name="MGMDetailDTO">
	        <field name="receivedPoints" type="string"/>
	        <field name="usedPoints" type="string"/>
	        <field name="totalAvailablePoints" type="string"/>
	    </type>
	    <type name="HeaderDTO">
	        <field name="code" type="int" description="100 si la respuesta se ha procesado correctamente"/>
	        <field name="description" type="string"/>
	        <field name="sessionId" type="string"/>
	    </type>
	    <type name="LoginResponseDetailDTO">
	        <field name="sessionId" type="string"/>
	        <field name="customerId" type="string"/>
	    </type>
	    <type name="SubscriptionsResponseDetailDTO">
	        <field name="subcriptions" type="SubscriptionDTO*"/>
	    </type>
	    <type name="SubscriptionDTO">
	        <field name="subscriberId" type="string"/>
	        <field name="msisdn" type="string"/>
	        <field name="billCycleType" type="int"/>
	        <field name="registerDate" type="long"/>
	        <field name="payType" type="string"/>
	        <field name="mainProductId" type="string"/>
	    </type>
	    <type name="ConsumptionByCycleResponseDetailDTO">
	        <field name="consumptionsByCycle" type="ConsumptionByCycleDTO*"/>
	    </type>
	   	<type name="ConsumptionByCycleDTO">
	   	    <field name="startDate" type="long"/>
	   	    <field name="endDate" type="long"/>
	   	    <field name="billCycleNumber" type="int"/>
	   	    <field name="chargeTotal" type="string"/>
	   	    <field name="balance" type="string"/>
	   	    <!--  <field name="hasDataBundle" type="boolean"/> -->
	   	    <!--  <field name="hasVoiceBundle" type="boolean"/> -->
	   	    <field name="voice" type="ChargeDataDTO"/>
	   	    <field name="data" type="ChargeDataDTO"/>
	   	    <field name="sms" type="ChargeDataDTO"/>
	   	    <field name="mms" type="ChargeDataDTO"/>
	   	    <field name="dataBundle" type="BundleDataDTO"/>
	   	    <field name="voiceBundle" type="BundleVoiceDTO"/>
	   	    <field name="voicePremium" type="ChargeDataDTO"/>
	   	    <field name="smsPremium" type="ChargeDataDTO"/>
	   	    <field name="voiceOutgoingRoaming" type="ChargeDataDTO"/>
	   	    <field name="voiceIngoingRoaming" type="ChargeDataDTO"/>
	   	    <field name="smsRoaming" type="ChargeDataDTO"/>
	   	    <field name="mmsRoaming" type="ChargeDataDTO"/>
	   	    <field name="dataRoaming" type="ChargeDataDTO"/>
	   	</type>
	   	<type name="ConsumptionDetailByCycleResponseDetailDTO">
	   	    <field name="consumptionDetailByCycleList" type="ConsumptionDetailByCycleDTO*"/>
	   	</type>
	   	<type name="ConsumptionDetailByCycleDTO">
	   	    <field name="startDate" type="long"/>
	   	    <field name="endDate" type="long"/>
	   	    <field name="consumptionsByDay" type="ConsumptionsByDayDTO*" />  
	   	</type>
	   	<type name="ConsumptionsByDayDTO">
	   	    <field name="date" type="long"/>
	   	    <field name="voice" type="ChargeDataDTO"/>
	   	    <field name="data" type="ChargeDataDTO"/>
	   	    <field name="sms" type="ChargeDataDTO"/>
	   	    <field name="mms" type="ChargeDataDTO"/>
	   	    <field name="voicePremium" type="ChargeDataDTO"/>
	   	    <field name="smsPremium" type="ChargeDataDTO"/>
	   	    <field name="voiceOutgoingRoaming" type="ChargeDataDTO"/>
	   	    <field name="voiceIngoingRoaming" type="ChargeDataDTO"/>
	   	    <field name="smsRoaming" type="ChargeDataDTO"/>
	   	    <field name="mmsRoaming" type="ChargeDataDTO"/>
	   	    <field name="dataRoaming" type="ChargeDataDTO"/>
	   	</type>
	   	<type name="ChargeDataDTO">
	   	    <field name="chargeTotal" type="string"/>
	   	    <field name="count" type="long"/>
	   	</type>
	   	<type name="BundleDataDTO">
	   	    <field name="limit" type="long"/>
	   	    <field name="spent" type="long"/>
	   	</type>
	   	<type name="BundleVoiceDTO">
			<field name="limit" type="long"/>
	   	    <field name="spent" type="long"/>
	   	</type>
	   	<type name="VoiceCallsResponseDetailDTO">
	   	    <field name="voiceCalls" type="VoiceCallsDTO"/>
	   	</type>
	   	<type name="VoiceCallsDTO">
	   	    <field name="startDate" type="long"/>
	   	    <field name="endDate" type="long"/>
	   	    <field name="voiceCallsTotal" type="int"/>
	   	    <field name="voiceCallInfo" type="VoiceCallInfoDTO*"/>
	   	</type>
	   	<type name="VoiceCallInfoDTO">
	   	    <field name="date" type="long"/>
	   	    <field name="msisdn" type="string"/>
	   	    <field name="duration" type="long"/>
	   	    <field name="charge" type="string"/>
	   	    <field name="type" type="int"/>
	   	    <field name="category" type="int"/>
	   	</type>
	   	<type name="SMSResponseDetailDTO">
	   	    <field name="sms" type="SMSDTO"/>
	   	</type>
	   	<type name="SMSDTO">
	   	    <field name="startDate" type="long"/>
	   	    <field name="endDate" type="long"/>
	   	    <field name="messagesTotal" type="int"/>
	   	    <field name="messagesInfo" type="SMSInfoDTO*"/>
	   	</type>
	   	<type name="SMSInfoDTO">
	   	    <field name="date" type="long"/>
	   	    <field name="msisdn" type="string"/>
	   	    <field name="charge" type="string"/>
	   	    <field name="category" type="int"/>
	   	</type>
	   	<type name="FrequentNumbersResponseDetailDTO">
	   	    <field name="frequentNumber" type="FrequentNumberDTO*"/>
	   	</type>
	   	<type name="FrequentNumberDTO">
	   	    <field name="msisdn" type="string"/>
	   	    <field name="count" type="int"/>
	   	</type>
	   	<type name="RechargeHistoryResponseDetailDTO">
	   	    <field name="rechargeHistory" type="RechargeHistoryDTO*"/>
	   	</type>
	   	<type name="RechargeHistoryDTO">
	   	    <field name="fee" type="string"/>
	   	    <field name="date" type="long"/>
	   	</type>
	   	<type name="InvoiceListResponseDetailDTO">
	   	    <field name="invoiceList" type="InvoiceDTO*"/>
	   	</type>
	   	<type name="InvoiceDTO">
	   	    <field name="startDate" type="long"/>
	   	    <field name="endDate" type="long"/>
	   	    <field name="invoiceNO" type="string"/>
	   	    <field name="invoiceId" type="string"/>
	   	</type>
	   	<type name="DownloadInvoiceResponseDetailDTO">
	   	    <field name="invoice" type="DownloadInvoiceDTO"/>
	   	</type>
	   	<type name="DownloadInvoiceDTO">
	   	    <field name="filename" type="string"/>
	   	    <field name="content" type="string"/>
	   	</type>
	   	<type name="FaqDTO">
	   	    <field name="question" type="string"/>
	   	    <field name="answer" type="string"/>
	   	</type>
	</types>
</protocol>